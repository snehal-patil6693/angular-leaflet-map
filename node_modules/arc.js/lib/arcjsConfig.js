'use strict';

const fs = require('../utils/fs');
const error = require('./error');

module.exports = async function (location) {
  let arcJsConfig = null;

  try {
    arcJsConfig = await fs.loadModules(location, true);
    return arcJsConfig.data;
  }
  catch (e) {
    throw new Error(error({
      location: 'ArcJs Config Loader',
      description: `while trying to load the arcjs config file [arc.json] ${e}`
    }));
  }
};